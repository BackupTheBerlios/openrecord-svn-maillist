<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openrecord-svn] r8 - trunk/source
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openrecord-svn/2005-March/index.html" >
   <LINK REL="made" HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r8%20-%20trunk/source&In-Reply-To=%3C200503302252.j2UMqPk7026522%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000006.html">
   <LINK REL="Next"  HREF="000008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openrecord-svn] r8 - trunk/source</H1>
    <B>Brian Douglas Skinner at BerliOS</B> 
    <A HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r8%20-%20trunk/source&In-Reply-To=%3C200503302252.j2UMqPk7026522%40sheep.berlios.de%3E"
       TITLE="[openrecord-svn] r8 - trunk/source">skinner at sheep.berlios.de
       </A><BR>
    <I>Thu Mar 31 00:52:25 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000006.html">[openrecord-svn] r7 - trunk/source
</A></li>
        <LI>Next message: <A HREF="000008.html">[openrecord-svn] r9 - trunk/source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: skinner
Date: 2005-03-31 00:52:24 +0200 (Thu, 31 Mar 2005)
New Revision: 8

Modified:
   trunk/source/complete_view.js
   trunk/source/page_view.js
   trunk/source/rectangle.js
   trunk/source/section_view.js
   trunk/source/util.js
Log:
Worked on JavaDoc comments.

Modified: trunk/source/complete_view.js
===================================================================
--- trunk/source/complete_view.js	2005-03-30 20:46:55 UTC (rev 7)
+++ trunk/source/complete_view.js	2005-03-30 22:52:24 UTC (rev 8)
@@ -58,7 +58,7 @@
 
 
 /**
- * The BlueSky app uses a single instance of CompleteView, which serves as the
+ * The OpenRecord app uses a single instance of CompleteView, which serves as the
  * outer-most view in the browser, and contains the current PageView as well
  * as some standard chrome (like the Edit button).
  *
@@ -105,6 +105,10 @@
 }
 
 
+// -------------------------------------------------------------------
+// Public instance methods
+// -------------------------------------------------------------------
+
 /**
  * Returns the Stevedore instance that this CompleteView is using.
  *
@@ -292,14 +296,14 @@
 
 
 // -------------------------------------------------------------------
-// Debug Error Display Methods
+// Debug error display methods
 // -------------------------------------------------------------------
 
-
 /**
  * Displays a text string in the status blurb span.
  *
  * @scope    public class method
+ * @param    inText    A text string to be displayed. 
  */
 CompleteView.displayStatusBlurb = function (inText) {
   CompleteView.ourSingleInstance.displayStatusBlurb(inText);
@@ -310,6 +314,7 @@
  * Displays a text string in the status blurb span.
  *
  * @scope    public instance method
+ * @param    inText    A text string to be displayed. 
  */
 CompleteView.prototype.displayStatusBlurb = function (inText) {
   this.myStatusBlurbSpanElement.innerHTML = inText;
@@ -320,6 +325,7 @@
  * Displays a text string in the debug textarea.
  *
  * @scope    public class method
+ * @param    inText    A text string to be displayed. 
  */
 CompleteView.displayTextInDebugTextarea = function (inText) {
   CompleteView.ourSingleInstance.displayTextInDebugTextarea(inText);
@@ -330,6 +336,7 @@
  * Displays a text string in the debug textarea.
  *
  * @scope    public instance method
+ * @param    inText    A text string to be displayed. 
  */
 CompleteView.prototype.displayTextInDebugTextarea = function (inText) {
   this.myNumberOfCallsToDebug++;
@@ -348,6 +355,7 @@
  * and displays them in the debug textarea.
  *
  * @scope    public instance method
+ * @param    inObject    Any sort of object. 
  */
 CompleteView.prototype.displayObjectInDebugTextarea = function (inObject) {
   var outputText = &quot;&quot;;
@@ -359,7 +367,7 @@
 
 
 // -------------------------------------------------------------------
-// Event Handler Methods
+// Event handler methods
 // -------------------------------------------------------------------
 
 /**
@@ -370,6 +378,7 @@
  * There is no need to call this method directly.
  *
  * @scope    public class method
+ * @param    inEventObject    An event object. 
  */
 CompleteView.clickOnLocalLink = function (inEventObject) {
   var eventObject = inEventObject;
@@ -394,6 +403,7 @@
  * There is no need to call this method directly.
  *
  * @scope    public class method
+ * @param    inEventObject    An event object. 
  */
 CompleteView.clickOnEditButton = function (inEventObject) {
   var eventObject = inEventObject;

Modified: trunk/source/page_view.js
===================================================================
--- trunk/source/page_view.js	2005-03-30 20:46:55 UTC (rev 7)
+++ trunk/source/page_view.js	2005-03-30 22:52:24 UTC (rev 8)
@@ -118,6 +118,7 @@
   this.myDivElement.style.display = &quot;none&quot;;
 };
 
+
 /**
  * Re-creates all the HTML for the PageView, and hands the HTML to the 
  * browser to be re-drawn.

Modified: trunk/source/rectangle.js
===================================================================
--- trunk/source/rectangle.js	2005-03-30 20:46:55 UTC (rev 7)
+++ trunk/source/rectangle.js	2005-03-30 22:52:24 UTC (rev 8)
@@ -115,10 +115,32 @@
 Rectangle.ourHashTableOfColorsKeyedBySize = new Array();
 
 
+/**
+ * Each Rectangle instances represents a single rectangle.
+ *
+ * @scope    public instance constructor
+ * @syntax   var rect = new Rectangle()
+ */
+function Rectangle() {
+  // instance properties
+  this.myWidth = null;
+  this.myHeight = null;
+}
+
+
 // -------------------------------------------------------------------
-// Rectangle.union()
-//   public class method
+// Public class methods
 // -------------------------------------------------------------------
+
+/**
+ * Given two Rectangle object, returns new Rectangle large enough
+ * to encompass both of the given Rectangles.
+ *
+ * @scope    public class method
+ * @param    inRectOne    A Rectangle object. 
+ * @param    inRectTwo    A Rectangle object. 
+ * @return   A newly created Rectangle object.
+ */
 Rectangle.union = function (inRectOne, inRectTwo) {
   Util.assert(inRectOne instanceof Rectangle);
   Util.assert(inRectTwo instanceof Rectangle);
@@ -131,20 +153,15 @@
 
 
 // -------------------------------------------------------------------
-// new Rectangle()
-//   public instance constructor
+// Public instance methods
 // -------------------------------------------------------------------
-function Rectangle() {
-  // instance properties
-  this.myWidth = null;
-  this.myHeight = null;
-}
 
-
-// -------------------------------------------------------------------
-// rectangle.getArea()
-//   public instance method
-// -------------------------------------------------------------------
+/**
+ * Returns the area of the rectangle.
+ *
+ * @scope    public instance method
+ * @return   A number.
+ */
 Rectangle.prototype.getArea = function () {
   var area = this.myWidth * this.myHeight;
   return area;

Modified: trunk/source/section_view.js
===================================================================
--- trunk/source/section_view.js	2005-03-30 20:46:55 UTC (rev 7)
+++ trunk/source/section_view.js	2005-03-30 22:52:24 UTC (rev 8)
@@ -73,27 +73,17 @@
 SectionView.ourHashTableOfLayoutClassesKeyedByLayoutName = {};
 
 
-// -------------------------------------------------------------------
-// SectionView.getStringForValue()
-//   public class method
-// -------------------------------------------------------------------
-SectionView.getStringForValue = function (inValue) {
-  var string = &quot;&quot;;
-  if (Util.isString(inValue)) {
-    string = inValue;
-  }
-  if (inValue instanceof Item) {
-    string = inValue.getDisplayName();
-  }
-  return string;
-};
-
-
-// -------------------------------------------------------------------
-// new SectionView()
-//   public instance constructor
-// -------------------------------------------------------------------
-function SectionView(inPageView, inSection, inSectionNumber) {
+/**
+ * A PageView uses instances of a SectionViews to display the Sections 
+ * of a page. 
+ *
+ * @scope    public instance constructor
+ * @param    inPageView    The PageView that serves as the superview for this view. 
+ * @param    inSection    The Section item to be displayed in by this view. 
+ * @param    inSectionNumber    The number of the section on the page (1, 2, 3, 4...). 
+ * @syntax   var sectionView = new SectionView()
+ */
+ function SectionView(inPageView, inSection, inSectionNumber) {
   Util.assert(inPageView instanceof PageView);
   Util.assert(inSection instanceof Item);
   
@@ -111,17 +101,52 @@
 
 
 // -------------------------------------------------------------------
-//   public instance method
+// Public class methods
 // -------------------------------------------------------------------
+
+/**
+ * Given a string or an item, returns a string.
+ *
+ * @scope    public class method
+ * @param    inValue    A string or an Item. 
+ * @return   A string.
+ */
+SectionView.getStringForValue = function (inValue) {
+  var string = &quot;&quot;;
+  if (Util.isString(inValue)) {
+    string = inValue;
+  }
+  if (inValue instanceof Item) {
+    string = inValue.getDisplayName();
+  }
+  return string;
+};
+
+
+// -------------------------------------------------------------------
+// Public instance methods
+// -------------------------------------------------------------------
+
+/**
+ * Returns the Stevedore instance that this SectionView is using.
+ *
+ * @scope    public instance method
+ * @return   A Stevedore object.
+ */
 SectionView.prototype.getStevedore = function () {
   return this.myPageView.myCompleteView.getStevedore();
 };
 
 
-// -------------------------------------------------------------------
-// sectionView.getLayoutFromLayoutName()
-//   public instance method
-// -------------------------------------------------------------------
+/**
+ * Given the name of a layout (&quot;Table&quot;, &quot;Outline&quot;, etc.), returns a newly
+ * created layout object of that type, initialized to be the layout for this 
+ * section
+ *
+ * @scope    public instance method
+ * @param    inLayoutName    A string. One of the registered layout names. 
+ * @return   A newly created layout object, initialized to be the layout for this section.
+ */
 SectionView.prototype.getLayoutFromLayoutName = function (inLayoutName) {
   Util.assert(Util.isString(inLayoutName));
   
@@ -140,10 +165,12 @@
 };
 
 
-// -------------------------------------------------------------------
-// sectionView.setDivElement()
-//   public instance method
-// -------------------------------------------------------------------
+/**
+ * Tells the SectionView what HTMLDivElement to display the Section in.
+ *
+ * @scope    public instance method
+ * @param    inDivElement    The HTMLDivElement to display the Section in. 
+ */
 SectionView.prototype.setDivElement = function (inDivElement) {
   Util.assert(inDivElement instanceof HTMLDivElement);
 
@@ -152,10 +179,13 @@
 };
 
 
-// -------------------------------------------------------------------
-// sectionView.getListOfContentItems()
-//   public instance method
-// -------------------------------------------------------------------
+
+/**
+ * Returns a list of content items to be displayed in this SectionView.
+ *
+ * @scope    public instance method
+ * @return   A list of content items.
+ */
 SectionView.prototype.getListOfContentItems = function () {
   var query = this.mySection.getValueListFromAttribute(Stevedore.UUID_FOR_ATTRIBUTE_QUERY)[0];
   this.myListOfContentItems = this.getStevedore().getListOfResultItemsForQuery(query); 
@@ -163,10 +193,13 @@
 };
 
 
-// -------------------------------------------------------------------
-// sectionView.display()
-//   public instance method
-// -------------------------------------------------------------------
+
+/**
+ * Re-creates all the HTML for the SectionView, and hands the HTML to the 
+ * browser to be re-drawn.
+ *
+ * @scope    public instance method
+ */
 SectionView.prototype.display = function () {
   if (!this.myDivElement) {
     return;
@@ -223,12 +256,16 @@
   
 
 // -------------------------------------------------------------------
-// SectionView.clickOnLayoutSelectionMenu() -- called from &lt;select&gt;&lt;option&gt;
-//   public class method
-//
-// Called when the user clicks on any of the layout option-select
-// controls.
+// Event handler methods
 // -------------------------------------------------------------------
+
+/**
+ * Called when the user clicks on any of the layout option-select controls.
+ * Called from an HTML option element within an HTML select element.
+ *
+ * @scope    public class method
+ * @param    inEventObject    An event object. 
+ */
 SectionView.clickOnLayoutSelectionMenu = function (inEventObject) {
   var eventObject = inEventObject;
   if (!eventObject) { eventObject = window.event; }

Modified: trunk/source/util.js
===================================================================
--- trunk/source/util.js	2005-03-30 20:46:55 UTC (rev 7)
+++ trunk/source/util.js	2005-03-30 22:52:24 UTC (rev 8)
@@ -62,6 +62,11 @@
 Util.ASCII_VALUE_FOR_RIGHT_ARROW = 39; // 124
 Util.ASCII_VALUE_FOR_DOWN_ARROW = 40;  // 125
 
+
+// -------------------------------------------------------------------
+// String manipulation methods
+// -------------------------------------------------------------------
+
 /**
  * Returns a copy of the input string, cleaned up so that it can be 
  * included in a valid HTML page.
@@ -87,6 +92,10 @@
 };
 
 
+// -------------------------------------------------------------------
+// Assertions and error handling methods
+// -------------------------------------------------------------------
+
 /**
  * Registers a function to be used to report errors.
  *
@@ -154,6 +163,10 @@
 };
 
 
+// -------------------------------------------------------------------
+// Type checking methods
+// -------------------------------------------------------------------
+
 /**
  * Returns true if the given value is a string.
  *
@@ -244,58 +257,11 @@
 };
 
 
-/**
- * Given an event object, returns the HTML element that was the 
- * target of the event.  
- * 
- * Should work for IE, Mozilla, and _some_ other browsers.  
- *
- * @scope    public class method
- * @param    inEventObject    An event object. 
- * @return   An HTML element.
- */
-Util.getTargetFromEvent = function (inEventObject) {
-  var target = null;
-  if (inEventObject.target) {
-    target = inEventObject.target;
-  } else {
-    if (inEventObject.srcElement) {
-      target = inEventObject.srcElement;
-    }
-  }
-  if (target &amp;&amp; target.nodeType == 3) { // defeat Safari bug
-    target = target.parentNode;
-  }
-  return target;
-};
+// -------------------------------------------------------------------
+// Methods that operate on Sets
+// -------------------------------------------------------------------
 
-
 /**
- * Looks at all the anchor links in the document, finds the ones with the 
- * attribute rel=&quot;external&quot;, and sets the target attribute of those anchor
- * links so that the links will open in a new browser window.  
- * 
- * @scope    public class method
- */
-Util.setTargetsForExternalLinks = function () {
-  if (!window.document.getElementsByTagName) {
-    return;
-  }
-  var listOfAnchorElements = window.document.getElementsByTagName(&quot;a&quot;);
-  for (var i=0; i&lt;listOfAnchorElements.length; i+=1) {
-    var anchor = listOfAnchorElements[i];
-    // FIX_ME: This only works if the &quot;rel&quot; attribute has a single value == &quot;external&quot;.
-    // To make it work with multi-valued rel attributes, we should do some regular
-    // expression matching to check for strings like &quot;external&quot;, &quot;foo external&quot;, 
-    // and &quot;external foo&quot;.
-    if (anchor.getAttribute(&quot;href&quot;) &amp;&amp; (anchor.getAttribute(&quot;rel&quot;) == &quot;external&quot;)) {
-      anchor.target = &quot;_blank&quot;;
-    }
-  }
-};
-
-
-/**
  * Returns true if the given object is a member of the set.  
  * 
  * @scope    public class method
@@ -362,16 +328,46 @@
 };
 
 
+// -------------------------------------------------------------------
+// Methods that deal with event handling
+// -------------------------------------------------------------------
+
 /**
+ * Given an event object, returns the HTML element that was the 
+ * target of the event.  
+ * 
+ * Should work for IE, Mozilla, and _some_ other browsers.  
+ *
+ * @scope    public class method
+ * @param    inEventObject    An event object. 
+ * @return   An HTML element.
+ */
+Util.getTargetFromEvent = function (inEventObject) {
+  var target = null;
+  if (inEventObject.target) {
+    target = inEventObject.target;
+  } else {
+    if (inEventObject.srcElement) {
+      target = inEventObject.srcElement;
+    }
+  }
+  if (target &amp;&amp; target.nodeType == 3) { // defeat Safari bug
+    target = target.parentNode;
+  }
+  return target;
+};
+
+
+/**
  * This function allows Views to register an event listener in an 
  * object-oriented manner, allowing a specific object's handleEvent() 
  * method to be called. 
  *
  * @scope public class method
- * @param inElement   An HTMLElement.
- * @param inEventtype The type of event (e.g. &quot;mousedown&quot;, &quot;click&quot;).
- * @param inView      The object whose handleEvent() method is to be called.
- * @param inCaptures  True if the event should be captured by this function.
+ * @param inElement    An HTMLElement.
+ * @param inEventtype    The type of event (e.g. &quot;mousedown&quot;, &quot;click&quot;).
+ * @param inView    The object whose handleEvent() method is to be called.
+ * @param inCaptures    True if the event should be captured by this function.
  */
 Util.registerObjectEventHandler = function(inElement, inEventtype, inView, inCaptures) {
   inElement.addEventListener(inEventtype,
@@ -381,5 +377,33 @@
 
 
 // -------------------------------------------------------------------
+// HTML document manipulation
+// -------------------------------------------------------------------
+
+/**
+ * Looks at all the anchor links in the document, finds the ones with the 
+ * attribute rel=&quot;external&quot;, and sets the target attribute of those anchor
+ * links so that the links will open in a new browser window.  
+ * 
+ * @scope    public class method
+ */
+Util.setTargetsForExternalLinks = function () {
+  if (!window.document.getElementsByTagName) {
+    return;
+  }
+  var listOfAnchorElements = window.document.getElementsByTagName(&quot;a&quot;);
+  for (var i=0; i&lt;listOfAnchorElements.length; i+=1) {
+    var anchor = listOfAnchorElements[i];
+    // FIX_ME: This only works if the &quot;rel&quot; attribute has a single value == &quot;external&quot;.
+    // To make it work with multi-valued rel attributes, we should do some regular
+    // expression matching to check for strings like &quot;external&quot;, &quot;foo external&quot;, 
+    // and &quot;external foo&quot;.
+    if (anchor.getAttribute(&quot;href&quot;) &amp;&amp; (anchor.getAttribute(&quot;rel&quot;) == &quot;external&quot;)) {
+      anchor.target = &quot;_blank&quot;;
+    }
+  }
+};
+
+// -------------------------------------------------------------------
 // End of file
 // -------------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000006.html">[openrecord-svn] r7 - trunk/source
</A></li>
	<LI>Next message: <A HREF="000008.html">[openrecord-svn] r9 - trunk/source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openrecord-svn">More information about the openrecord-svn
mailing list</a><br>
</body></html>
