<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openrecord-svn] r344 - in trunk: . source source/util source/view
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openrecord-svn/2005-September/index.html" >
   <LINK REL="made" HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r344%20-%20in%20trunk%3A%20.%20source%20source/util%20source/view&In-Reply-To=%3C200509280122.j8S1MP5q006067%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000326.html">
   <LINK REL="Next"  HREF="000328.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openrecord-svn] r344 - in trunk: . source source/util source/view</H1>
    <B>Brian Douglas Skinner at BerliOS</B> 
    <A HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r344%20-%20in%20trunk%3A%20.%20source%20source/util%20source/view&In-Reply-To=%3C200509280122.j8S1MP5q006067%40sheep.berlios.de%3E"
       TITLE="[openrecord-svn] r344 - in trunk: . source source/util source/view">skinner at berlios.de
       </A><BR>
    <I>Wed Sep 28 03:22:25 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000326.html">[openrecord-svn] r343 - in trunk: documentation source source/model source/util tests/model tests/util
</A></li>
        <LI>Next message: <A HREF="000328.html">[openrecord-svn] r345 - trunk/source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#327">[ date ]</a>
              <a href="thread.html#327">[ thread ]</a>
              <a href="subject.html#327">[ subject ]</a>
              <a href="author.html#327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: skinner
Date: 2005-09-28 03:22:19 +0200 (Wed, 28 Sep 2005)
New Revision: 344

Modified:
   trunk/sandbox.html
   trunk/source/OpenRecordLoader.js
   trunk/source/util/Cookie.js
   trunk/source/view/LoginView.js
Log:
Added a couple lines to Cookie.js to make it available as orp.util.Cookie

Modified: trunk/sandbox.html
===================================================================
--- trunk/sandbox.html	2005-09-27 19:52:23 UTC (rev 343)
+++ trunk/sandbox.html	2005-09-28 01:22:19 UTC (rev 344)
@@ -23,7 +23,6 @@
     &lt;script type=&quot;text/javascript&quot; src=&quot;third_party/scriptaculous/prototype.js&quot;&gt;&lt;/script&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;third_party/scriptaculous/effects.js&quot;&gt;&lt;/script&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;third_party/scriptaculous/dragdrop.js&quot;&gt;&lt;/script&gt;
-    &lt;script type=&quot;text/javascript&quot; src=&quot;source/util/Cookie.js&quot;&gt;&lt;/script&gt;
     &lt;script type=&quot;text/javascript&quot; src=&quot;third_party/dojo/dojo-0.1.0/dojo.js&quot;&gt;&lt;/script&gt;
     &lt;script&gt;
       dojo.hostenv.setModulePrefix(&quot;dojo&quot;, &quot;../../dojo/dojo-0.1.0/src&quot;);

Modified: trunk/source/OpenRecordLoader.js
===================================================================
--- trunk/source/OpenRecordLoader.js	2005-09-27 19:52:23 UTC (rev 343)
+++ trunk/source/OpenRecordLoader.js	2005-09-28 01:22:19 UTC (rev 344)
@@ -96,9 +96,7 @@
     /* &quot;third_party/dojo/dojo-0.1.0/dojo.js&quot;, */
     &quot;third_party/scriptaculous/prototype.js&quot;,
     &quot;third_party/scriptaculous/effects.js&quot;,
-    &quot;third_party/scriptaculous/dragdrop.js&quot;,
-    // util
-    &quot;source/util/Cookie.js&quot;];
+    &quot;third_party/scriptaculous/dragdrop.js&quot;];
   for (var i in listOfSourceCodeFiles) {
     var fileName = listOfSourceCodeFiles[i];
     var url = path + fileName;

Modified: trunk/source/util/Cookie.js
===================================================================
--- trunk/source/util/Cookie.js	2005-09-27 19:52:23 UTC (rev 343)
+++ trunk/source/util/Cookie.js	2005-09-28 01:22:19 UTC (rev 344)
@@ -120,10 +120,26 @@
 
 
 // -------------------------------------------------------------------
-// Code below this line was written by Chih-Chao Lam, not David Flanagan...
+// Code below this line was not written by David Flanagan.
 // -------------------------------------------------------------------
+/*****************************************************************************
+ Written in 2005 by 
+    Brian Douglas Skinner &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openrecord-svn">brian.skinner at gumption.org</A>&gt;
+    Chih-Chao Lam &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openrecord-svn">chao at cs.stanford.edu</A>&gt;
 
+ Copyright rights relinquished under the Creative Commons  
+ Public Domain Dedication:
+    <A HREF="http://creativecommons.org/licenses/publicdomain/">http://creativecommons.org/licenses/publicdomain/</A>
+*****************************************************************************/
+
 // -------------------------------------------------------------------
+// Provides and Requires
+// -------------------------------------------------------------------
+dojo.provide(&quot;orp.util.Cookie&quot;);
+
+orp.util.Cookie = Cookie;
+
+// -------------------------------------------------------------------
 // Dependencies:
 //   Util.js [pending: will soon when we add error checking]
 // -------------------------------------------------------------------
@@ -143,3 +159,7 @@
   orp.lang.assert(userCookie.editMode == &quot;true&quot;);
 }
 */
+
+// -------------------------------------------------------------------
+// End of file
+// -------------------------------------------------------------------

Modified: trunk/source/view/LoginView.js
===================================================================
--- trunk/source/view/LoginView.js	2005-09-27 19:52:23 UTC (rev 343)
+++ trunk/source/view/LoginView.js	2005-09-28 01:22:19 UTC (rev 344)
@@ -37,6 +37,7 @@
 dojo.provide(&quot;orp.view.LoginView&quot;);
 dojo.provide(&quot;orp.view.UserSuggestionBox&quot;);
 dojo.require(&quot;orp.view.View&quot;);
+dojo.require(&quot;orp.util.Cookie&quot;);
 dojo.require(&quot;dojo.event.*&quot;);
 
 // -------------------------------------------------------------------
@@ -73,7 +74,7 @@
   // instance properties
   this._isCreatingNewAccount = false;
   var tenYearCookieExpiration = 10*365*24;   // PENDING: hardcode expiration to 10yrs
-  this._cookie = new Cookie(document, orp.view.LoginView.COOKIE_NAME, tenYearCookieExpiration);
+  this._cookie = new orp.util.Cookie(document, orp.view.LoginView.COOKIE_NAME, tenYearCookieExpiration);
   this._cookie.load();
 };
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000326.html">[openrecord-svn] r343 - in trunk: documentation source source/model source/util tests/model tests/util
</A></li>
	<LI>Next message: <A HREF="000328.html">[openrecord-svn] r345 - trunk/source
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#327">[ date ]</a>
              <a href="thread.html#327">[ thread ]</a>
              <a href="subject.html#327">[ subject ]</a>
              <a href="author.html#327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openrecord-svn">More information about the openrecord-svn
mailing list</a><br>
</body></html>
