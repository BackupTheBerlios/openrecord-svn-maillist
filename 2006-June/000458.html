<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [openrecord-svn] r478 - in trunk/source: archive model view
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openrecord-svn/2006-June/index.html" >
   <LINK REL="made" HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r478%20-%20in%20trunk/source%3A%20archive%20model%20view&In-Reply-To=%3C200606202244.k5KMiqhF012271%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000457.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[openrecord-svn] r478 - in trunk/source: archive model view</H1>
    <B>skinner at BerliOS</B> 
    <A HREF="mailto:openrecord-svn%40lists.berlios.de?Subject=Re%3A%20%5Bopenrecord-svn%5D%20r478%20-%20in%20trunk/source%3A%20archive%20model%20view&In-Reply-To=%3C200606202244.k5KMiqhF012271%40sheep.berlios.de%3E"
       TITLE="[openrecord-svn] r478 - in trunk/source: archive model view">skinner at berlios.de
       </A><BR>
    <I>Wed Jun 21 00:44:52 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000457.html">[openrecord-svn] r477 - in trunk: source/plugins tests tests/plugins
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#458">[ date ]</a>
              <a href="thread.html#458">[ thread ]</a>
              <a href="subject.html#458">[ subject ]</a>
              <a href="author.html#458">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: skinner
Date: 2006-06-21 00:44:47 +0200 (Wed, 21 Jun 2006)
New Revision: 478

Modified:
   trunk/source/archive/JsonDeserializer.js
   trunk/source/model/2005_june_axiomatic_items.json
   trunk/source/model/World.js
   trunk/source/view/SectionView.js
Log:
Added a few new axiomatic items -- the data type Color, and attributes for BackgroundColor and ForegroundColor:
orp.model.World.UUID.TYPE_COLOR
orp.view.SectionView.UUID.ATTRIBUTE_BACKGROUND_COLOR
orp.view.SectionView.UUID.ATTRIBUTE_FOREGROUND_COLOR

Modified: trunk/source/archive/JsonDeserializer.js
===================================================================
--- trunk/source/archive/JsonDeserializer.js	2006-06-19 05:38:27 UTC (rev 477)
+++ trunk/source/archive/JsonDeserializer.js	2006-06-20 22:44:47 UTC (rev 478)
@@ -244,6 +244,7 @@
 							orp.lang.assert(finalData.isValid());
 							break;
 						default:
+						    // orp.lang.assert(false, 'Unknown data type while _rehydrating() entry with UUID ' + entryUuid);
 							orp.lang.assert(false, 'Unknown data type while _rehydrating()');
 					}
 					entry._revive(item, attribute, finalData, previousEntry, dataType);

Modified: trunk/source/model/2005_june_axiomatic_items.json
===================================================================
--- trunk/source/model/2005_june_axiomatic_items.json	2006-06-19 05:38:27 UTC (rev 477)
+++ trunk/source/model/2005_june_axiomatic_items.json	2006-06-20 22:44:47 UTC (rev 478)
@@ -95,6 +95,10 @@
              &quot;uuid&quot;: &quot;00001024-ce7f-11d9-8cd5-0011113ae5d6&quot; }
     },
     // -----------------------------------------------------------------------
+    { &quot;Item&quot;: {                                               // Type: Color
+             &quot;uuid&quot;: &quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot; }
+    },
+    // -----------------------------------------------------------------------
     { &quot;Item&quot;: {                                               // Type: Item
              &quot;uuid&quot;: &quot;00001030-ce7f-11d9-8cd5-0011113ae5d6&quot; }
     },
@@ -218,7 +222,7 @@
         &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
     },  
     // -----------------------------------------------------------------------
-    { &quot;Entry&quot;: {                                              // Text
+    { &quot;Entry&quot;: {                                              // Summary
              &quot;uuid&quot;: &quot;0001003c-ce7f-11d9-8cd5-0011113ae5d6&quot;,
         &quot;attribute&quot;: &quot;0000100a-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Expected Type
              &quot;item&quot;: &quot;00001003-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Attribute: Summary
@@ -761,6 +765,23 @@
         &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
     },  
     // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              // &quot;Color&quot;
+             &quot;uuid&quot;: &quot;0001026a-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+        &quot;attribute&quot;: &quot;00001001-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Name
+             &quot;item&quot;: &quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Type: Color
+             &quot;type&quot;: &quot;00001020-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // TextValue
+            &quot;value&quot;: &quot;Color&quot; }
+    },
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              
+             // in item (Type: Color) assign (Attribute: Category) = (Category: Type)
+             // in item (Category: Type) assign (Attribute: Items in Category) = (Type: Color)
+             &quot;uuid&quot;: &quot;0001026b-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;type&quot;: &quot;00001050-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;item&quot;: [&quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;00001213-ce7f-11d9-8cd5-0011113ae5d6&quot;],
+        &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
+    },  
+    // -----------------------------------------------------------------------
     { &quot;Entry&quot;: {                                              // &quot;Item&quot;
              &quot;uuid&quot;: &quot;0001030a-ce7f-11d9-8cd5-0011113ae5d6&quot;,
         &quot;attribute&quot;: &quot;00001001-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Name
@@ -1028,6 +1049,14 @@
              &quot;uuid&quot;: &quot;0004010a-ce7f-11d9-8cd5-0011113ae5d6&quot; }
     },
     // -----------------------------------------------------------------------
+    { &quot;Item&quot;: {                                               // Background Color (Attribute)
+             &quot;uuid&quot;: &quot;0004010b-ce7f-11d9-8cd5-0011113ae5d6&quot; }
+    },
+    // -----------------------------------------------------------------------
+    { &quot;Item&quot;: {                                               // Foreground Color (Attribute)
+             &quot;uuid&quot;: &quot;0004010c-ce7f-11d9-8cd5-0011113ae5d6&quot; }
+    },
+    // -----------------------------------------------------------------------
     { &quot;Item&quot;: {                                               // Not Lozenge (Attribute)
              &quot;uuid&quot;: &quot;0004010f-ce7f-11d9-8cd5-0011113ae5d6&quot; }
     },
@@ -1405,8 +1434,58 @@
              &quot;type&quot;: &quot;00001050-ce7f-11d9-8cd5-0011113ae5d6&quot;,
              &quot;item&quot;: [&quot;0004010a-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;00001215-ce7f-11d9-8cd5-0011113ae5d6&quot;],
         &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
-    }, 
+    },
     // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              // Background Color 
+             &quot;uuid&quot;: &quot;004010ba-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+        &quot;attribute&quot;: &quot;00001001-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Name
+             &quot;item&quot;: &quot;0004010b-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Background Color (Attribute)
+             &quot;type&quot;: &quot;00001020-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // TextValue
+            &quot;value&quot;: &quot;Background Color&quot; }
+    },
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              
+             // in item (Attribute: Background Color) assign (Attribute: Category) = (Category: Attribute)
+             // in item (Category: Attribute) assign (Attribute: Items in Category) = (Attribute: Background Color)
+             &quot;uuid&quot;: &quot;004010bb-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;type&quot;: &quot;00001050-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;item&quot;: [&quot;0004010b-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;00001210-ce7f-11d9-8cd5-0011113ae5d6&quot;],
+        &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
+    },  
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              // Attribute
+             &quot;uuid&quot;: &quot;004010bc-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+        &quot;attribute&quot;: &quot;0000100a-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Expected Type
+             &quot;item&quot;: &quot;0004010b-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Background Color (Attribute)
+             &quot;type&quot;: &quot;00001030-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // RelatedUuid
+            &quot;value&quot;: &quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot; }
+    },
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              // Foreground Color 
+             &quot;uuid&quot;: &quot;004010ca-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+        &quot;attribute&quot;: &quot;00001001-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Name
+             &quot;item&quot;: &quot;0004010c-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Foreground Color (Attribute)
+             &quot;type&quot;: &quot;00001020-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // TextValue
+            &quot;value&quot;: &quot;Foreground Color&quot; }
+    },
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              
+             // in item (Attribute: Foreground Color) assign (Attribute: Category) = (Category: Attribute)
+             // in item (Category: Attribute) assign (Attribute: Items in Category) = (Attribute: Foreground Color)
+             &quot;uuid&quot;: &quot;004010cb-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;type&quot;: &quot;00001050-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+             &quot;item&quot;: [&quot;0004010c-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;00001210-ce7f-11d9-8cd5-0011113ae5d6&quot;],
+        &quot;attribute&quot;: [&quot;00001005-ce7f-11d9-8cd5-0011113ae5d6&quot;, &quot;0000100c-ce7f-11d9-8cd5-0011113ae5d6&quot;]  }
+    },  
+    // -----------------------------------------------------------------------
+    { &quot;Entry&quot;: {                                              // Attribute
+             &quot;uuid&quot;: &quot;004010cc-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+        &quot;attribute&quot;: &quot;0000100a-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Expected Type
+             &quot;item&quot;: &quot;0004010c-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Foreground Color (Attribute)
+             &quot;type&quot;: &quot;00001030-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // RelatedUuid
+            &quot;value&quot;: &quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot; }
+    },
+    // -----------------------------------------------------------------------
     { &quot;Entry&quot;: {                                              // Not Lozenge
              &quot;uuid&quot;: &quot;004010fa-ce7f-11d9-8cd5-0011113ae5d6&quot;,
         &quot;attribute&quot;: &quot;00001001-ce7f-11d9-8cd5-0011113ae5d6&quot;,  // Name

Modified: trunk/source/model/World.js
===================================================================
--- trunk/source/model/World.js	2006-06-19 05:38:27 UTC (rev 477)
+++ trunk/source/model/World.js	2006-06-20 22:44:47 UTC (rev 478)
@@ -155,6 +155,8 @@
 	TYPE_DATE:               &quot;00001022-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	TYPE_CHECK_MARK:         &quot;00001023-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	TYPE_URL:                &quot;00001024-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+	//                       &quot;00001025-ce7f-11d9-8cd5-0011113ae5d6&quot; // ATTRIBUTE_DEVELOPER_MODE (see above)
+	TYPE_COLOR:              &quot;00001026-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	TYPE_ITEM:               &quot;00001030-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	TYPE_ANYTHING:           &quot;00001040-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	TYPE_CONNECTION:         &quot;00001050-ce7f-11d9-8cd5-0011113ae5d6&quot;,
@@ -208,6 +210,7 @@
 	this._typeCalledDate       = server.getItemFromUuid(UUID.TYPE_DATE);
 	this._typeCalledCheckMark  = server.getItemFromUuid(UUID.TYPE_CHECK_MARK);
 	this._typeCalledUrl        = server.getItemFromUuid(UUID.TYPE_URL);
+	this._typeCalledColor      = server.getItemFromUuid(UUID.TYPE_COLOR);
 	this._typeCalledItem       = server.getItemFromUuid(UUID.TYPE_ITEM);
 	this._typeCalledAnything   = server.getItemFromUuid(UUID.TYPE_ANYTHING);
 	this._typeCalledConnection = server.getItemFromUuid(UUID.TYPE_CONNECTION);
@@ -565,6 +568,10 @@
 	return this._typeCalledUrl;
 };
 
+orp.model.World.prototype.getTypeCalledColor = function() {
+	return this._typeCalledColor;
+};
+
 orp.model.World.prototype.getTypeCalledItem = function() {
 	return this._typeCalledItem;
 };

Modified: trunk/source/view/SectionView.js
===================================================================
--- trunk/source/view/SectionView.js	2006-06-19 05:38:27 UTC (rev 477)
+++ trunk/source/view/SectionView.js	2006-06-20 22:44:47 UTC (rev 478)
@@ -180,7 +180,9 @@
 	ATTRIBUTE_SECTION_THIS_LAYOUT_DATA_BELONGS_TO: &quot;00040104-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	ATTRIBUTE_SECTION_THIS_QUERY_BELONGS_TO: &quot;00040105-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	ATTRIBUTE_SELECTED_ATTRIBUTES: &quot;0004010a-ce7f-11d9-8cd5-0011113ae5d6&quot;,
-
+	ATTRIBUTE_BACKGROUND_COLOR: &quot;0004010b-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+	ATTRIBUTE_FOREGROUND_COLOR: &quot;0004010c-ce7f-11d9-8cd5-0011113ae5d6&quot;,
+	
 	CATEGORY_PLUGIN_VIEW:        &quot;00040201-ce7f-11d9-8cd5-0011113ae5d6&quot;,
 	CATEGORY_LAYOUT_DATA:        &quot;00040202-ce7f-11d9-8cd5-0011113ae5d6&quot; };
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000457.html">[openrecord-svn] r477 - in trunk: source/plugins tests tests/plugins
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#458">[ date ]</a>
              <a href="thread.html#458">[ thread ]</a>
              <a href="subject.html#458">[ subject ]</a>
              <a href="author.html#458">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openrecord-svn">More information about the openrecord-svn
mailing list</a><br>
</body></html>
